1. pygame 기초 숙지
2. pygame 창 띄우고, 이벤트 설정
3. 차량 움직이기





추가 기능 구현
1. 처음에 시작할 떄, 시작 페이지 ui 만들기
2. 설정 페이지를 따로 만들기(차량 색)
3. 게임을 시작할 떄, 3.2.1하면, 차량이 출발할 수 있도록 설계
(키 입력을 하고 있으면, 1이후 키 입력에 따라 움직임)
4. 슬라이딩을 더 자연스럽게 만드는 "벽 법선 기반 반사/마찰"
5. 체크포인트 판정(1-5)






----
구현 순서

구현 순서(완료 확률 높은 순서)
1단계: 싱글(로컬)에서 “레이싱이 되게” 만들기 (가장 먼저!)
pygame 창/프레임/입력 루프
자동차 1대 움직이기(가속/회전/감속)
벽 Rect 몇 개로 코스 만들기
벽 충돌 처리(벽 통과 못하게)
체크포인트 3개 + 진행 표시(0/3 → 3/3)
✅ 여기까지 되면 “게임의 70%” 끝난 거야.
(네트워크는 아직 없어도 됨)

2단계: 2P를 “한 화면에서” 로컬로 먼저 붙이기
자동차 2대 생성
조작 키 분리(예: P1=WASD, P2=방향키)
충돌은 벽만 적용(차-차는 무시)
체크포인트 진행을 플레이어별로 분리
승리 판정 / 종료 화면
✅ 여기까지 되면 “네트워크 없이도 멀티 레이싱 게임” 완성.

3단계: 네트워크를 얹기 (여기서부터가 진짜 통신)
호스트/게스트 연결(서로 1:1 소켓)
“내 차”는 로컬 입력으로 움직이고
“상대 차”는 네트워크로 받은 좌표로만 그리기(권장)
주기적으로 STATE 송수신
승리 시 WIN 전송 후 둘 다 종료
✅ 이 접근이 좋은 이유:
상대 차의 물리를 상대 PC에서 계산할 필요가 없음 → 동기화 지옥을 피함.

4단계: 마감 퀄리티(시간 남으면)
3,2,1 카운트다운
체크포인트 통과 시 소리/색 변화
상대 차 움직임이 튀면 “보간” 살짝(선택)

4) 흔한 실수/누락 포인트(미리 방지)
충돌을 먼저 하지 말고 “코스/이동이 되는지”부터 확인해야 함
체크포인트는 순서 강제 안 하면 지름길로 꼼수 가능
네트워크는 “입력 공유”로 시작하면 동기화가 어려움 → 상태 공유가 완료주의에 유리
프레임마다 보내지 말고(60Hz) 20Hz 정도로 제한 (부하↓, 안정↑)


-----
디렉토리 구조

racing_game/
├── main.py
├── game.py
├── car.py
├── track.py
└── network.py   (※ 3단계에서 사용)









-----
📌 각 파일의 역할 (왜 이렇게 나누는지까지)

1️⃣ main.py — 프로그램 진입점 (절대 가볍게 유지)
역할
pygame 초기화

창 생성

Game 객체 생성

메인 루프 실행

왜 따로 두나?
실행 시작 지점을 명확하게

발표/설명 시 “여기서 시작합니다” 말하기 좋음

포함해야 할 것
pygame.init()

screen = set_mode

clock

game.run()

❌ 넣지 말 것

차량 로직

충돌

네트워크

2️⃣ game.py — 게임 전체를 통제하는 컨트롤 타워
역할 (제일 중요)
게임 상태 관리

업데이트 순서 결정

그리기 순서 결정

이 파일이 하는 질문
지금 게임 중인가?

종료됐는가?

승자가 나왔는가?

입력을 누구에게 전달할까?

내부에 들어갈 것
Game 클래스

update(dt)

draw(screen)

플레이어 1, 2 차량 관리

체크포인트 진행 상황

📌 네트워크 붙일 때도

network.py는 game.py가 호출

반대 방향 ❌

3️⃣ car.py — 차량 하나의 책임만
역할
“차 1대”의 모든 상태와 행동

포함할 것
위치(x, y)

각도(angle)

속도(speed)

update(dt, input)

draw(screen)

왜 분리?
차량이 1대 → 2대 → 네트워크 상대차
코드 변경 최소화

테스트하기 쉬움

📌 나중에:

LocalCar / RemoteCar로 확장도 쉬움

4️⃣ track.py — 맵 / 벽 / 체크포인트
역할
레이싱 코스 정의

벽(Rect) 목록

체크포인트 목록

포함할 것
walls = [pygame.Rect, ...]

checkpoints = [pygame.Rect, ...]

draw(screen)

check_wall_collision(car_rect)

check_checkpoint(car_rect)

왜 분리?
게임 로직과 맵 로직 분리

맵 바꿔도 게임 코드 거의 안 건드림

5️⃣ network.py — 통신 전담 (나중 단계)
⚠️ 1단계에서는 비워두거나 스켈레톤만

역할
소켓 연결

상태 송수신

상대 차량 상태 저장

포함할 것
connect / accept

send_state()

recv_state()

📌 중요 원칙

pygame 코드 ❌

draw ❌

입력 ❌
👉 순수 통신만



